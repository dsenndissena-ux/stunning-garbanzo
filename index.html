<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğ—ğ—‚ğ—Œğ–¾ğ—‹ ğ–¯ğ—ˆğ–¾ğ—ğ—Œ ğŸ’âœ¨ - Timeless Wisdom</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Crimson+Text:ital@0;1&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', Georgia, serif;
            background: linear-gradient(135deg, #1e1b4b 0%, #581c87 50%, #1e1b4b 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
        }

        .bubble:nth-child(1) {
            width: 400px;
            height: 400px;
            background: #a855f7;
            top: 25%;
            left: 25%;
            animation-delay: 0s;
        }

        .bubble:nth-child(2) {
            width: 400px;
            height: 400px;
            background: #ec4899;
            bottom: 25%;
            right: 25%;
            animation-delay: 1s;
        }

        .bubble:nth-child(3) {
            width: 400px;
            height: 400px;
            background: #3b82f6;
            top: 50%;
            left: 50%;
            animation-delay: 2s;
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) scale(1);
            }
            33% {
                transform: translate(30px, -30px) scale(1.1);
            }
            66% {
                transform: translate(-30px, 30px) scale(0.9);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fadeIn {
            animation: fadeIn 1s ease-out;
        }

        .quote-card {
            opacity: 0;
            animation: slideUp 0.6s ease-out forwards;
        }

        .quote-card:nth-child(1) { animation-delay: 0.1s; }
        .quote-card:nth-child(2) { animation-delay: 0.2s; }
        .quote-card:nth-child(3) { animation-delay: 0.3s; }
        .quote-card:nth-child(4) { animation-delay: 0.4s; }
        .quote-card:nth-child(5) { animation-delay: 0.5s; }
        .quote-card:nth-child(n+6) { animation-delay: 0.6s; }

        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(167, 139, 250, 0.3);
            transform: scale(1.02);
            box-shadow: 0 20px 60px rgba(168, 85, 247, 0.2);
        }

        .btn {
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .btn:active {
            transform: scale(0.95);
        }

        .heart-filled {
            fill: currentColor;
        }

        .spinner {
            border: 4px solid rgba(167, 139, 250, 0.2);
            border-top-color: #a78bfa;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        h1 {
            font-family: 'Playfair Display', Georgia, serif;
        }
    </style>
</head>
<body>
    <div class="bg-animation">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>

    <div class="relative z-10 container mx-auto px-4 py-12 max-w-4xl">
        <!-- Header -->
        <header class="text-center mb-16 animate-fadeIn">
            <div class="inline-flex items-center gap-3 mb-4 glass px-6 py-3 rounded-full">
                <span class="text-2xl">ğŸ’</span>
                <span class="text-2xl">âœ¨</span>
            </div>
            <h1 class="text-5xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-200 via-pink-200 to-purple-200 tracking-tight">
                ğ—ğ—‚ğ—Œğ–¾ğ—‹ ğ–¯ğ—ˆğ–¾ğ—ğ—Œ
            </h1>
            <p class="text-purple-200 text-lg mb-6 opacity-70">
                Timeless wisdom from poets and philosophers
            </p>
            <button id="refreshBtn" class="btn inline-flex items-center gap-2 glass hover:bg-purple-500/30 text-purple-100 px-6 py-3 rounded-full">
                <svg id="refreshIcon" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                </svg>
                <span>Refresh Quotes</span>
            </button>
        </header>

        <!-- Error/Info Message -->
        <div id="errorMsg" class="hidden glass border-yellow-500/20 text-yellow-200 px-6 py-4 rounded-2xl mb-8 text-sm">
            <span class="mr-2">â„¹ï¸</span>
            <span id="errorText"></span>
        </div>

        <!-- Loading State -->
        <div id="loading" class="flex justify-center items-center py-20">
            <div class="spinner"></div>
        </div>

        <!-- Quotes Container -->
        <div id="quotesContainer" class="grid gap-6 hidden">
            <!-- Quotes will be inserted here -->
        </div>

        <!-- Footer -->
        <footer class="text-center mt-16 text-purple-300 text-sm opacity-50">
            <p class="mb-2">Follow us on Telegram: <strong>ğ—ğ—‚ğ—Œğ–¾ğ—‹ ğ–¯ğ—ˆğ–¾ğ—ğ—Œ ğŸ’âœ¨</strong></p>
            <p>Updates automatically every 5 minutes</p>
        </footer>
    </div>

    <script>
        // Configuration
        const BOT_TOKEN = '8324100140:AAEdpaU-Jspa57cpBJdCV0HuRZYf4C_eie4';
        const CHANNEL_ID = '-1003353613717';
        
        let favorites = JSON.parse(localStorage.getItem('favoriteQuotes') || '[]');
        let quotes = [];

        // Sample quotes as fallback
        const sampleQuotes = [
            {
                id: 1,
                text: "The wound is the place where the Light enters you.",
                author: "Rumi",
                date: "Feb 4, 2026"
            },
            {
                id: 2,
                text: "Be like the sun for grace and mercy. Be like the night to cover others' faults. Be like running water for generosity. Be like death for rage and anger. Be like the Earth for modesty. Appear as you are. Be as you appear.",
                author: "Rumi",
                date: "Feb 3, 2026"
            },
            {
                id: 3,
                text: "Yesterday I was clever, so I wanted to change the world. Today I am wise, so I am changing myself.",
                author: "Rumi",
                date: "Feb 2, 2026"
            },
            {
                id: 4,
                text: "The quieter you become, the more you can hear.",
                author: "Rumi",
                date: "Feb 1, 2026"
            },
            {
                id: 5,
                text: "Let yourself be silently drawn by the strange pull of what you really love. It will not lead you astray.",
                author: "Rumi",
                date: "Jan 31, 2026"
            },
            {
                id: 6,
                text: "What you seek is seeking you.",
                author: "Rumi",
                date: "Jan 30, 2026"
            },
            {
                id: 7,
                text: "Don't grieve. Anything you lose comes round in another form.",
                author: "Rumi",
                date: "Jan 29, 2026"
            },
            {
                id: 8,
                text: "The art of knowing is knowing what to ignore.",
                author: "Rumi",
                date: "Jan 28, 2026"
            }
        ];

        // Fetch quotes from Telegram
        async function fetchQuotes() {
            const loading = document.getElementById('loading');
            const quotesContainer = document.getElementById('quotesContainer');
            const errorMsg = document.getElementById('errorMsg');
            const errorText = document.getElementById('errorText');
            const refreshIcon = document.getElementById('refreshIcon');

            loading.classList.remove('hidden');
            quotesContainer.classList.add('hidden');
            errorMsg.classList.add('hidden');
            refreshIcon.style.animation = 'spin 1s linear infinite';

            try {
                const response = await fetch(
                    `https://api.telegram.org/bot${BOT_TOKEN}/getUpdates?allowed_updates=["channel_post"]`
                );

                const data = await response.json();

                if (data.ok && data.result.length > 0) {
                    const fetchedQuotes = data.result
                        .filter(item => item.channel_post && item.channel_post.text)
                        .map(item => ({
                            id: item.channel_post.message_id,
                            text: item.channel_post.text,
                            author: null,
                            date: new Date(item.channel_post.date * 1000).toLocaleDateString('en-US', {
                                month: 'short',
                                day: 'numeric',
                                year: 'numeric'
                            }),
                            timestamp: item.channel_post.date
                        }))
                        .sort((a, b) => b.timestamp - a.timestamp);

                    if (fetchedQuotes.length > 0) {
                        quotes = fetchedQuotes;
                        displayQuotes();
                    } else {
                        throw new Error('No quotes found');
                    }
                } else {
                    throw new Error('No updates available');
                }
            } catch (error) {
                console.log('Using sample quotes:', error.message);
                quotes = sampleQuotes;
                displayQuotes();
                errorText.textContent = 'Displaying sample quotes. To see live quotes, ensure your bot is added as an admin to your Telegram channel.';
                errorMsg.classList.remove('hidden');
            } finally {
                loading.classList.add('hidden');
                quotesContainer.classList.remove('hidden');
                refreshIcon.style.animation = '';
            }
        }

        // Display quotes
        function displayQuotes() {
            const container = document.getElementById('quotesContainer');
            container.innerHTML = quotes.map(quote => `
                <article class="quote-card glass rounded-3xl p-8 transition-all duration-500">
                    <blockquote class="mb-6">
                        <p class="text-purple-50 text-xl leading-relaxed italic">
                            "${quote.text}"
                        </p>
                    </blockquote>
                    
                    ${quote.author ? `
                        <div class="text-purple-300 text-sm mb-4 opacity-80">
                            â€” ${quote.author}
                        </div>
                    ` : ''}
                    
                    <div class="flex items-center justify-between pt-4 border-t border-white/5">
                        <time class="text-purple-300 text-sm opacity-60">
                            ${quote.date}
                        </time>
                        
                        <div class="flex items-center gap-2">
                            <!-- Favorite Button -->
                            <button onclick="toggleFavorite(${quote.id})" 
                                    class="btn p-2 rounded-full transition-all duration-300 ${
                                        favorites.includes(quote.id) 
                                            ? 'bg-pink-500/30 text-pink-200' 
                                            : 'glass text-purple-300/60 hover:text-pink-300'
                                    }"
                                    aria-label="Add to favorites">
                                <svg class="w-4 h-4 ${favorites.includes(quote.id) ? 'heart-filled' : ''}" 
                                     fill="${favorites.includes(quote.id) ? 'currentColor' : 'none'}" 
                                     stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                          d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                            </button>

                            <!-- Copy Button -->
                            <button onclick="copyQuote('${quote.text.replace(/'/g, "\\'")}', ${quote.id})" 
                                    class="btn p-2 rounded-full glass text-purple-300/60 hover:text-purple-200 transition-all duration-300"
                                    aria-label="Copy quote">
                                <svg id="copyIcon${quote.id}" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                </svg>
                            </button>

                            <!-- Share Button -->
                            <button onclick="shareQuote('${quote.text.replace(/'/g, "\\'")}', '${quote.author || ''}')" 
                                    class="btn p-2 rounded-full glass text-purple-300/60 hover:text-purple-200 transition-all duration-300"
                                    aria-label="Share quote">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                          d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </article>
            `).join('');
        }

        // Toggle favorite
        function toggleFavorite(quoteId) {
            if (favorites.includes(quoteId)) {
                favorites = favorites.filter(id => id !== quoteId);
            } else {
                favorites.push(quoteId);
            }
            localStorage.setItem('favoriteQuotes', JSON.stringify(favorites));
            displayQuotes();
        }

        // Copy quote
        function copyQuote(text, id) {
            navigator.clipboard.writeText(text).then(() => {
                const icon = document.getElementById('copyIcon' + id);
                const originalHTML = icon.innerHTML;
                
                icon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                          d="M5 13l4 4L19 7"/>
                `;
                
                setTimeout(() => {
                    icon.innerHTML = originalHTML;
                }, 2000);
            });
        }

        // Share quote
        function shareQuote(text, author) {
            const shareText = author ? `"${text}" â€” ${author}` : `"${text}"`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ğ—ğ—‚ğ—Œğ–¾ğ—‹ ğ–¯ğ—ˆğ–¾ğ—ğ—Œ',
                    text: shareText,
                });
            } else {
                copyQuote(shareText, 'share');
            }
        }

        // Event listeners
        document.getElementById('refreshBtn').addEventListener('click', fetchQuotes);

        // Initial load
        fetchQuotes();

        // Auto-refresh every 5 minutes
        setInterval(fetchQuotes, 5 * 60 * 1000);
    </script>
</body>
</html>
